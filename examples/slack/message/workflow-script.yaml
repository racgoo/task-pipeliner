name: Slack Webhook (Script)

# 1) Load SLACK_WEBHOOK_URL from env.example via cat + KV capture
# 2) Prompt for the message to send
# 3) Send to Slack using send-slack.js (Node.js 18+). Edit env.example with your URL. Run from this directory.

baseDir: ./

steps:
  - run: 'cat env.example'
    captures:
      - kv: SLACK_WEBHOOK_URL
        as: SLACK_WEBHOOK_URL
  - prompt:
      message: "Message to send to Slack:"
      as: slack_message
  - run: 'node send-slack.js "{{SLACK_WEBHOOK_URL}}" "{{slack_message}}"'
  - run: 'echo "Sent."'
