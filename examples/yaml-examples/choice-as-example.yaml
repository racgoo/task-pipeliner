name: Choice with 'as' Variable Example

steps:
  # Step 1: Choose environment and store as 'env' variable
  - choose:
      message: "Select deployment environment:"
      options:
        - id: dev
          label: "Development"
        - id: staging
          label: "Staging"
        - id: production
          label: "Production"
      as: env  # Store choice as 'env' variable instead of 'dev'/'staging'/'production'

  # Step 2: Use the variable in a command
  - run: echo "Deploying to {{env}} environment..."

  # Step 3: Choose build type and store as 'buildType' variable
  - choose:
      message: "Select build type:"
      options:
        - id: debug
          label: "Debug Build"
        - id: release
          label: "Release Build"
      as: buildType

  # Step 4: Use both variables
  - run: echo "Building {{buildType}} for {{env}}..."

  # Note: Now use var value comparison instead of choice
  - when:
      var:
        env: dev  # Uses variable value, not choice id
    run: echo "Development-specific step"

