name: Windows Shell Configuration Example

# This example demonstrates shell configuration for Windows systems

# Global shell: Windows Command Prompt (default on Windows)
# If omitted, uses %COMSPEC% (usually cmd.exe)
shell:
  - cmd
  - /c

steps:
  # Step 1: Windows Command Prompt (cmd.exe)
  - run: |
      echo === Running with Windows Command Prompt ===
      echo ComSpec: %COMSPEC%
      echo User: %USERNAME%
      ver

  # Step 2: PowerShell (Desktop Edition)
  - run: |
      Write-Host "=== Running with PowerShell ==="
      Write-Host "PSVersion: $($PSVersionTable.PSVersion)"
      Write-Host "PSEdition: $($PSVersionTable.PSEdition)"
      Write-Host "User: $env:USERNAME"
    shell:
      - powershell
      - -Command

  # Step 3: PowerShell Core (pwsh) - if installed
  # PowerShell Core is cross-platform and modern
  - run: |
      Write-Host "=== Running with PowerShell Core ==="
      Write-Host "PSVersion: $($PSVersionTable.PSVersion)"
      Write-Host "PSEdition: $($PSVersionTable.PSEdition)"
      Write-Host "OS: $($PSVersionTable.OS)"
    shell:
      - pwsh
      - -Command

  # Step 4: Back to Command Prompt (global shell)
  - run: |
      echo === Back to Command Prompt ===
      echo Current directory: %CD%
      dir /b

  # Step 5: Git Bash (if installed)
  # Many Windows developers use Git Bash for Unix-like commands
  - run: |
      echo "=== Running with Git Bash ==="
      echo "Shell: $SHELL"
      echo "User: $USER"
      uname -a
    shell:
      - bash
      - -c

  # Step 6: WSL (Windows Subsystem for Linux) - if installed
  # Use wsl command to run Linux commands
  - run: |
      echo "=== Running with WSL ==="
      wsl uname -a
      wsl echo "Hello from WSL!"
    shell:
      - cmd
      - /c

# Notes:
# - .exe extension is optional: "cmd" and "cmd.exe" are equivalent
#   Windows automatically finds executables in PATH without .exe
# - Recommended: Use short form (cmd, powershell, pwsh) for cleaner syntax
#
# Cross-platform tips:
# - cmd.exe: Windows Command Prompt (legacy, but widely compatible)
# - powershell: Windows PowerShell 5.1 (pre-installed on Windows)
# - pwsh: PowerShell Core 7+ (modern, cross-platform, needs installation)
# - bash: Git Bash or WSL Bash (needs installation)
# - wsl: Windows Subsystem for Linux (needs Windows 10+ and setup)
